import{d as j,u as N,s as A,c as B,r as D,l as E,a as c,b as t,e as M,h as s,t as n,f,k as d,n as g,m as q,F as z,j as T,w as P,g as F,o as u,i as m,p as h,v as w,q as b,_ as L}from"./index-Bua6_f4l.js";const O={class:"pb-24 bg-slate-900 min-h-full text-white"},R={class:"relative h-56 bg-gradient-to-b from-purple-900 to-slate-900 overflow-hidden"},U={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 flex flex-col items-center"},G={class:"w-28 h-28 rounded-full border-4 border-slate-800 p-1 bg-slate-700 shadow-2xl relative z-10"},H=["src"],Y={class:"absolute bottom-0 right-0 bg-yellow-500 text-slate-900 text-xs font-bold px-3 py-0.5 rounded-full border-2 border-slate-800 shadow-lg"},$={class:"mt-16 text-center px-6"},K={class:"text-3xl font-rpg text-yellow-400 tracking-wide"},W={class:"flex items-center justify-center gap-2 mt-1 text-slate-400 text-xs"},J={class:"flex justify-center mt-2 mb-2"},Q={class:"bg-slate-800 border border-purple-500/30 text-purple-300 px-3 py-1 rounded-full text-xs font-bold flex items-center"},X={class:"mr-1 text-lg"},Z={class:"mt-2 flex justify-center gap-3"},tt={class:"bg-slate-800 px-3 py-1 rounded border border-slate-700 text-xs text-blue-300 font-bold"},et={class:"bg-slate-800 px-3 py-1 rounded border border-slate-700 text-xs text-yellow-500 font-bold"},st={class:"px-4 mt-8"},at={class:"bg-slate-800/50 border border-slate-700 rounded-2xl p-5 backdrop-blur-sm relative overflow-hidden"},lt={class:"space-y-5"},ot={class:"flex items-center justify-between"},nt={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},rt={class:"text-[10px] text-blue-500/60 text-right -mt-3"},it={class:"flex items-center justify-between"},dt={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},ct={class:"text-[10px] text-green-500/60 text-right -mt-3"},ut={class:"flex items-center justify-between"},xt={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},mt={class:"text-[10px] text-orange-500/60 text-right -mt-3"},pt={class:"px-4 mt-4"},ft={class:"bg-slate-900 border-2 border-slate-700 rounded-2xl p-5 shadow-[inset_0_2px_10px_rgba(0,0,0,0.5)] relative overflow-hidden"},bt={class:"grid grid-cols-4 gap-3 relative z-10"},vt=["onClick"],gt={key:1,class:"text-[8px] text-slate-600 mt-1 font-bold"},ht={key:2,class:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"},wt={key:3,class:"text-4xl mb-1 filter drop-shadow-md transform transition-transform group-hover:scale-110"},_t={key:4,class:"absolute bottom-0 w-full text-center bg-slate-900/80 backdrop-blur-sm py-0.5"},yt={class:"mt-4 text-center relative z-10"},kt={class:"p-4 space-y-4"},St=j({__name:"ProfileView",setup(Ct){const r=N(),{user:i,heroStats:a}=A(r),k=B(()=>[{id:"HEAD",name:"å¤´éƒ¨",icon:"fas fa-hat-wizard"},{id:"BODY",name:"èº«ä½“",icon:"fas fa-tshirt"},{id:"LEGS",name:"è…¿éƒ¨",icon:"fas fa-socks"},{id:"BACK",name:"èƒŒéƒ¨",icon:"fas fa-user-secret"},{id:"WEAPON",name:"ä¸»æ‰‹",icon:"fas fa-khanda"},{id:"OFFHAND",name:"å‰¯æ‰‹",icon:"fas fa-shield-alt"},{id:"ACCESSORY",name:"é¥°å“",icon:"fas fa-ring"}].map(e=>{const p=i.value.equipped[e.id],l=p?r.achievements.find(y=>y.id===p):null;return{slotId:e.id,slotName:e.name,defaultIcon:e.icon,item:l||null}})),v=D(!1),o=E({height:0,weight:0,age:0}),S=()=>{o.height=i.value.height,o.weight=i.value.weight,o.age=i.value.age,v.value=!0},_=()=>o.height<=50||o.height>250?(b("èº«é«˜å¿…é¡»åœ¨ 50-250cm ä¹‹é—´"),!1):o.weight<=20||o.weight>300?(b("ä½“é‡å¿…é¡»åœ¨ 20-300kg ä¹‹é—´"),!1):o.age<=5||o.age>120?(b("å¹´é¾„å¿…é¡»åœ¨ 5-120 å²ä¹‹é—´"),!1):!0,C=()=>{_()&&(r.user.height=o.height,r.user.weight=o.weight,r.user.age=o.age,r.recalcBMR(),r.saveState(),b("æ¡£æ¡ˆå·²æ›´æ–°ï¼ŒBossæ•°å€¼é‡ç®—ä¸­..."))},V=x=>x==="confirm"?_():!0,I=x=>{r.temp.activeSlot=x,r.setModal("equipmentSwap",!0)};return(x,e)=>{const p=F("van-dialog");return u(),c("div",O,[t("div",R,[e[5]||(e[5]=t("div",{class:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"},null,-1)),t("div",U,[t("div",G,[t("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed="+s(i).avatarSeed,class:"w-full h-full rounded-full bg-slate-600"},null,8,H),t("div",Y,"Lv."+n(s(i).level),1)])])]),t("div",$,[t("h2",K,n(s(i).nickname),1),t("div",W,[t("span",null,[t("i",{class:d(s(i).gender==="MALE"?"fas fa-mars text-blue-400":"fas fa-venus text-pink-400")},null,2),f(" "+n(s(i).age)+"å²",1)]),e[6]||(e[6]=t("span",null,"|",-1)),t("span",null,n(s(i).height)+"cm",1),e[7]||(e[7]=t("span",null,"|",-1)),t("span",null,n(s(i).weight)+"kg",1)]),t("div",J,[t("span",Q,[t("span",X,n(s(a).raceIcon),1),f(" "+n(s(a).raceName),1)])]),t("div",Z,[t("div",tt,"æˆ˜åŠ›: "+n(s(a).combatPower),1),t("div",et,"æ¯æ—¥ç›®æ ‡: "+n(s(r).dailyTarget),1)]),t("div",{class:"mt-3"},[t("button",{onClick:S,class:"text-xs text-slate-500 underline hover:text-purple-400"},"ä¿®æ”¹æ¡£æ¡ˆæ•°æ®")])]),t("div",st,[t("div",at,[e[11]||(e[11]=t("h3",{class:"text-sm font-bold text-slate-400 mb-5 flex items-center"},[t("i",{class:"fas fa-chart-bar mr-2 text-purple-500"}),f(" æ ¸å¿ƒå±æ€§")],-1)),t("div",lt,[t("div",ot,[e[8]||(e[8]=t("span",{class:"text-xs text-blue-400 w-16"},"åŠ›é‡ (STR)",-1)),t("div",nt,[t("div",{class:d(["h-full bg-blue-500",{"stat-bar-overflow":s(a).rawStr>s(a).maxStat}]),style:g({width:Math.min(s(a).str/s(a).maxStat*100,100)+"%"})},null,6)]),t("span",{class:d(["text-xs font-bold w-12 text-right",{"text-red-500":s(a).rawStr>s(a).maxStat}])},n(s(a).str),3)]),t("div",rt,"ğŸ›¡ï¸ æä¾› "+n(s(a).blockValue)+" ç‚¹æ ¼æŒ¡",1),t("div",it,[e[9]||(e[9]=t("span",{class:"text-xs text-green-400 w-16"},"æ•æ· (AGI)",-1)),t("div",dt,[t("div",{class:d(["h-full bg-green-500",{"stat-bar-overflow":s(a).rawAgi>s(a).maxStat}]),style:g({width:Math.min(s(a).agi/s(a).maxStat*100,100)+"%"})},null,6)]),t("span",{class:d(["text-xs font-bold w-12 text-right",{"text-red-500":s(a).rawAgi>s(a).maxStat}])},n(s(a).agi),3)]),t("div",ct,"âš¡ æä¾› "+n((s(a).dodgeChance*100).toFixed(1))+"% é—ªé¿",1),t("div",ut,[e[10]||(e[10]=t("span",{class:"text-xs text-orange-400 w-16"},"ä½“è´¨ (VIT)",-1)),t("div",xt,[t("div",{class:d(["h-full bg-orange-500",{"stat-bar-overflow":s(a).rawVit>s(a).maxStat}]),style:g({width:Math.min(s(a).vit/s(a).maxStat*100,100)+"%"})},null,6)]),t("span",{class:d(["text-xs font-bold w-12 text-right",{"text-red-500":s(a).rawVit>s(a).maxStat}])},n(s(a).vit),3)]),t("div",mt,"â¤ï¸ æä¾› "+n(s(a).maxHp)+" ç‚¹ç”Ÿå‘½ä¸Šé™",1)])])]),t("div",pt,[t("div",ft,[e[13]||(e[13]=q('<div class="absolute inset-0 bg-[url(&#39;https://www.transparenttextures.com/patterns/dark-leather.png&#39;)] opacity-20 pointer-events-none" data-v-9db9ca16></div><div class="flex justify-between items-center mb-4 relative z-10" data-v-9db9ca16><h3 class="text-sm font-bold text-slate-300 flex items-center" data-v-9db9ca16><i class="fas fa-shield-alt mr-2 text-yellow-600" data-v-9db9ca16></i> è‹±é›„è£…å¤‡</h3><span class="text-[10px] text-slate-500 font-normal" data-v-9db9ca16>ç‚¹å‡»æ§½ä½æ›´æ¢</span></div>',2)),t("div",bt,[(u(!0),c(z,null,T(k.value,l=>(u(),c("div",{key:l.slotId,onClick:y=>I(l.slotId),class:d(["aspect-square bg-slate-800 rounded-lg flex flex-col items-center justify-center border-2 transition-all relative overflow-hidden group cursor-pointer hover:border-purple-500 active:scale-95",[l.item?"border-"+l.item.rarity+" shadow-md":"border-slate-700 border-dashed opacity-60"]])},[l.item?m("",!0):(u(),c("i",{key:0,class:d([l.defaultIcon,"text-3xl text-slate-600"])},null,2)),l.item?m("",!0):(u(),c("span",gt,n(l.slotName),1)),l.item?(u(),c("div",ht)):m("",!0),l.item?(u(),c("span",wt,n(l.item.icon),1)):m("",!0),l.item?(u(),c("div",_t,[t("span",{class:d(["text-[8px] font-bold block truncate px-1","text-"+l.item.rarity])},n(l.item.reward),3)])):m("",!0)],10,vt))),128))]),t("div",yt,[t("button",{class:"text-xs text-slate-500 hover:text-yellow-500 transition-colors flex items-center justify-center mx-auto",onClick:e[0]||(e[0]=l=>s(r).setModal("achievements",!0))},[...e[12]||(e[12]=[t("i",{class:"fas fa-book mr-1"},null,-1),f(" æŸ¥çœ‹å›¾é‰´ ",-1)])])])])]),M(p,{show:v.value,"onUpdate:show":e[4]||(e[4]=l=>v.value=l),title:"ä¿®æ”¹æ¡£æ¡ˆ","show-cancel-button":"","before-close":V,onConfirm:C,class:"dark:bg-slate-800 dark:text-white"},{default:P(()=>[t("div",kt,[t("div",null,[e[14]||(e[14]=t("label",{class:"text-xs text-slate-500 block mb-1"},"èº«é«˜ (cm)",-1)),h(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>o.height=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm"},null,512),[[w,o.height,void 0,{number:!0}]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"text-xs text-slate-500 block mb-1"},"ä½“é‡ (kg)",-1)),h(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>o.weight=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm"},null,512),[[w,o.weight,void 0,{number:!0}]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"text-xs text-slate-500 block mb-1"},"å¹´é¾„",-1)),h(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=l=>o.age=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm"},null,512),[[w,o.age,void 0,{number:!0}]])])])]),_:1},8,["show"])])}}}),It=L(St,[["__scopeId","data-v-9db9ca16"]]);export{It as default};
