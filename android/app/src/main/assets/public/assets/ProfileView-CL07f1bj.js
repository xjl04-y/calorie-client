import{d as J,u as W,a as Y,c as p,r as j,m as K,p as X,b as d,e,f as I,g as b,n as x,l as T,h as f,w as M,i as B,t as a,j as w,q as Q,F as Z,k as ee,D as P,s as v,v as te,x as se,y as ae,o as u,z as y,A as S,_ as le}from"./index-BrZgjXFY.js";const re={class:"pb-24 bg-slate-50 dark:bg-slate-900 min-h-full text-slate-800 dark:text-white transition-colors duration-300"},oe={key:0,class:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"},ne={class:"absolute top-4 left-0 right-0 px-4 z-30 flex justify-between"},ie={class:"absolute inset-0 flex flex-col items-center justify-start z-20 pt-16"},de=["src"],ue=["src"],ce={key:0,class:"absolute bottom-0 right-0 bg-yellow-500 text-slate-900 text-xs font-bold px-3 py-0.5 rounded-full border-2 border-slate-800 shadow-lg z-20"},xe={key:0,class:"w-48 mb-2"},ve={class:"flex justify-between text-[10px] text-slate-400 px-1 mb-0.5"},be={class:"h-2 bg-slate-800 rounded-full overflow-hidden border border-slate-700"},fe={key:1,class:"flex gap-4 mt-2"},pe={class:"text-center px-4 py-2 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-200 dark:border-slate-600"},me={class:"text-center px-4 py-2 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-200 dark:border-slate-600"},ge={class:"text-lg font-black text-slate-700 dark:text-slate-200"},he={key:2,class:"flex items-center justify-center gap-2 text-slate-400 text-xs mt-1"},we={key:0},ke={class:"mt-4 text-center px-6"},_e={class:"flex justify-center mb-4"},ye={class:"bg-slate-800 border border-purple-500/30 text-purple-300 px-3 py-1 rounded-full text-xs font-bold flex items-center"},Se={class:"mr-1 text-lg"},Ce={class:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-4 border border-slate-700 shadow-inner mb-4 relative overflow-hidden group hover:border-purple-500/50 transition-colors"},Ee={class:"absolute -right-4 -top-4 text-6xl opacity-10 rotate-12 group-hover:scale-110 transition-transform"},Ae={class:"text-sm text-slate-500 font-mono"},je={class:"bg-black/30 rounded-lg py-2 px-3 text-xs inline-block border border-white/5 mb-3"},Ie={class:"text-slate-300"},Te={key:0,class:"mt-2 px-4"},Me={class:"flex justify-between text-[10px] text-slate-500 mb-1"},Be={class:"h-1.5 bg-slate-700 rounded-full overflow-hidden"},Pe={class:"px-4 mt-6"},De={id:"guide-profile-stats",class:"bg-slate-800/50 border border-slate-700 rounded-2xl p-5 backdrop-blur-sm relative overflow-hidden"},Ve={class:"space-y-5"},Fe={class:"flex items-center justify-between"},Ne={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},ze={class:"flex items-center justify-between"},Le={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},qe={class:"flex items-center justify-between"},Oe={class:"flex-1 mx-3 h-2 bg-slate-700 rounded-full overflow-hidden"},Re={class:"px-4 mt-4",id:"guide-equipment"},Ue={class:"bg-slate-900 border-2 border-slate-700 rounded-2xl p-5 shadow-[inset_0_2px_10px_rgba(0,0,0,0.5)] relative overflow-hidden"},Ge={class:"grid grid-cols-4 gap-3 relative z-10"},He=["onClick"],$e={key:1,class:"text-[8px] text-slate-600 mt-1 font-bold"},Je={key:2,class:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"},We={key:3,class:"text-4xl mb-1 filter drop-shadow-md transform transition-transform group-hover:scale-110"},Ye={key:4,class:"absolute bottom-0 w-full text-center bg-slate-900/80 backdrop-blur-sm py-0.5"},Ke={key:1,class:"px-4 mt-6 space-y-4"},Xe={class:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm"},Qe={class:"grid grid-cols-3 gap-4 text-center"},Ze={class:"text-2xl font-black text-slate-800 dark:text-white"},et={class:"text-2xl font-black text-slate-800 dark:text-white"},tt={class:"text-2xl font-black text-slate-800 dark:text-white"},st={class:"px-4 mt-6 mb-6"},at={class:"bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl p-4"},lt={class:"text-xs font-bold text-slate-500 mb-3 flex items-center"},rt={class:"flex gap-3"},ot={key:0,class:"text-[10px] text-slate-400 mt-2 text-center"},nt={class:"p-4 space-y-4"},it={name:"Profile"},dt=J({...it,setup(ut){const i=W(),D=Y(),r=p(()=>i.user),s=p(()=>i.heroStats),n=p(()=>D.isPureMode),V=p(()=>[{id:"HEAD",name:"å¤´éƒ¨",icon:"fas fa-hat-wizard"},{id:"BODY",name:"èº«ä½“",icon:"fas fa-tshirt"},{id:"LEGS",name:"è…¿éƒ¨",icon:"fas fa-socks"},{id:"BACK",name:"èƒŒéƒ¨",icon:"fas fa-user-secret"},{id:"WEAPON",name:"ä¸»æ‰‹",icon:"fas fa-khanda"},{id:"OFFHAND",name:"å‰¯æ‰‹",icon:"fas fa-shield-alt"},{id:"ACCESSORY",name:"é¥°å“",icon:"fas fa-ring"}].map(t=>{const m=r.value.equipped[t.id],g=m?i.achievements.find(l=>l.id===m):null;return{slotId:t.id,slotName:t.name,defaultIcon:t.icon,item:g||null}})),_=j(!1),c=K({height:0,weight:0,age:0}),k=j(null),h=p(()=>X(s.value.combatPower)),F=p(()=>h.value.next?Math.min(100,s.value.combatPower/h.value.next*100):100),C=p(()=>{const o=r.value.height/100;return o<=0?0:(r.value.weight/(o*o)).toFixed(1)}),N=p(()=>{const o=parseFloat(String(C.value));return o<18.5?{text:"åç˜¦",color:"text-blue-500"}:o<24?{text:"æ­£å¸¸",color:"text-green-500"}:o<28?{text:"è¶…é‡",color:"text-orange-500"}:{text:"è‚¥èƒ–",color:"text-red-500"}}),z=o=>{const t=Array.isArray(o)?o[0]:o;t&&t.content?(i.user.avatarType="CUSTOM",i.user.customAvatar=t.content,i.saveState(),v("å¤´åƒä¸Šä¼ æˆåŠŸï¼")):v("å›¾ç‰‡è¯»å–å¤±è´¥")},L=()=>{P.confirm({title:n.value?"ä¿®æ”¹å¤´åƒ":"é‡å¡‘å®¹è²Œ",message:n.value?"æ˜¯å¦éšæœºç”Ÿæˆä¸€ä¸ªæ–°çš„å¤´åƒï¼Ÿ":"æƒ³è¦æ”¹å˜ä½ çš„è‹±é›„å½¢è±¡å—ï¼Ÿ",showCancelButton:!0,confirmButtonText:"éšæœºç”Ÿæˆ",cancelButtonText:"å–æ¶ˆ",confirmButtonColor:"#7c3aed"}).then(()=>{const o=Math.random().toString(36).substring(7);i.user.avatarType="SEED",i.user.avatarSeed=o,i.saveState(),v("å¤´åƒå·²æ›´æ–°")}).catch(()=>{})},E=()=>{c.height=r.value.height,c.weight=r.value.weight,c.age=r.value.age,_.value=!0},A=()=>c.height<=50||c.height>250?(v("èº«é«˜å¿…é¡»åœ¨ 50-250cm ä¹‹é—´"),!1):c.weight<=20||c.weight>300?(v("ä½“é‡å¿…é¡»åœ¨ 20-300kg ä¹‹é—´"),!1):c.age<=5||c.age>120?(v("å¹´é¾„å¿…é¡»åœ¨ 5-120 å²ä¹‹é—´"),!1):!0,q=()=>{A()&&(i.user.height=c.height,i.updateWeight(c.weight),i.user.age=c.age,i.saveState(),v(n.value?"èº«ä½“æ•°æ®å·²æ›´æ–°":"æ¡£æ¡ˆå·²æ›´æ–°ï¼ŒBossæ•°å€¼é‡ç®—ä¸­..."))},O=o=>o==="confirm"?A():!0,R=o=>{n.value||(i.temp.activeSlot=o,i.setModal("equipmentSwap",!0))},U=()=>{const o=i.getExportData();if(!o){v("æ²¡æœ‰å¯å¯¼å‡ºçš„æ•°æ®");return}const t=`HEALTH_SAVE_${i.user.nickname}_${te()}`;se(t,o)?v(n.value?"æ•°æ®å¤‡ä»½å·²ä¸‹è½½":"ğŸ“œ å­˜æ¡£å·è½´å·²ç”Ÿæˆï¼"):v("å¯¼å‡ºå¤±è´¥")},G=()=>{k.value?.click()},H=async o=>{const m=o.target.files?.[0];if(m)try{const g=await ae(m);P.confirm({title:n.value?"å¯¼å…¥å¤‡ä»½":"è¯»å–ç¥è°• (å¯¼å…¥å­˜æ¡£)",message:"âš ï¸ å¯¼å…¥å°†è¦†ç›–å½“å‰æ‰€æœ‰è¿›åº¦ï¼ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ",confirmButtonText:"ç¡®å®šè¦†ç›–",confirmButtonColor:"#7c3aed"}).then(()=>{i.importSaveDataObj(g)?(v("æ•°æ®æ¢å¤æˆåŠŸï¼Œå³å°†åˆ·æ–°..."),setTimeout(()=>window.location.reload(),1e3)):v("æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œæ— æ³•è¯»å–ã€‚")}).catch(()=>{k.value&&(k.value.value="")})}catch{v("æ–‡ä»¶æ ¼å¼é”™è¯¯")}},$=p(()=>r.value.nextLevelExp<=0?0:Math.min(100,r.value.currentExp/r.value.nextLevelExp*100));return(o,t)=>{const m=B("van-uploader"),g=B("van-dialog");return u(),d("div",re,[e("div",{class:x(["relative transition-all duration-500",n.value?"h-72 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700":"h-72 bg-gradient-to-b from-purple-900 to-slate-900"])},[n.value?b("",!0):(u(),d("div",oe)),e("div",ne,[e("div",{id:"guide-settings",onClick:t[0]||(t[0]=l=>T(i).setModal("settings",!0)),class:x(["px-3 py-1 rounded-full text-xs flex items-center active:scale-95 transition cursor-pointer",n.value?"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600":"bg-black/30 backdrop-blur text-white border border-white/20 hover:bg-black/50"])},[...t[5]||(t[5]=[e("i",{class:"fas fa-cog mr-1"},null,-1),f(" è®¾ç½® ",-1)])],2),I(m,{"after-read":z},{default:M(()=>[e("div",{class:x(["px-3 py-1 rounded-full text-xs flex items-center active:scale-95 transition cursor-pointer",n.value?"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600":"bg-black/30 backdrop-blur text-white border border-white/20"])},[t[6]||(t[6]=e("i",{class:"fas fa-camera mr-1"},null,-1)),f(" "+a(n.value?"æ›´æ¢å¤´åƒ":"å¤´åƒ"),1)],2)]),_:1})]),e("div",ie,[e("div",{class:"relative group cursor-pointer mb-3",onClick:L},[e("div",{class:x(["w-24 h-24 rounded-full p-1 relative z-10 overflow-hidden shadow-xl",n.value?"bg-white dark:bg-slate-700 ring-4 ring-slate-100 dark:ring-slate-600":"bg-slate-700 border-4 border-slate-800"])},[r.value.avatarType==="CUSTOM"&&r.value.customAvatar?(u(),d("img",{key:0,src:r.value.customAvatar,class:"w-full h-full rounded-full object-cover"},null,8,de)):(u(),d("img",{key:1,src:"https://api.dicebear.com/7.x/avataaars/svg?seed="+r.value.avatarSeed,class:"w-full h-full rounded-full bg-slate-200 dark:bg-slate-600"},null,8,ue))],2),n.value?b("",!0):(u(),d("div",ce,"Lv."+a(r.value.level),1))]),e("h2",{class:x(["text-2xl font-bold tracking-wide mb-1",n.value?"text-slate-800 dark:text-white":"font-rpg text-yellow-400"])},a(r.value.nickname),3),n.value?(u(),d("div",fe,[e("div",pe,[t[8]||(t[8]=e("div",{class:"text-[10px] text-slate-400 uppercase"},"BMI",-1)),e("div",{class:x(["text-lg font-black",N.value.color])},a(C.value),3)]),e("div",me,[t[9]||(t[9]=e("div",{class:"text-[10px] text-slate-400 uppercase"},"BMR",-1)),e("div",ge,a(T(i).dailyTarget),1)])])):(u(),d("div",xe,[e("div",ve,[t[7]||(t[7]=e("span",null,"EXP",-1)),e("span",null,a(Math.floor(r.value.currentExp))+" / "+a(r.value.nextLevelExp),1)]),e("div",be,[e("div",{class:"h-full bg-gradient-to-r from-purple-600 to-blue-500 transition-all duration-500",style:w({width:$.value+"%"})},null,4)])])),n.value?b("",!0):(u(),d("div",he,[e("span",null,[e("i",{class:x(r.value.gender==="MALE"?"fas fa-mars text-blue-400":"fas fa-venus text-pink-400")},null,2),f(" "+a(r.value.age)+"å²",1)]),t[10]||(t[10]=e("span",null,"|",-1)),e("span",null,a(r.value.height)+"cm",1),t[11]||(t[11]=e("span",null,"|",-1)),e("span",null,a(r.value.weight)+"kg",1)]))])],2),n.value?(u(),d("div",Ke,[e("div",Xe,[e("div",{class:"flex justify-between items-center mb-4"},[t[20]||(t[20]=e("h3",{class:"text-sm font-bold text-slate-700 dark:text-slate-200 flex items-center"},[e("i",{class:"fas fa-ruler-combined mr-2 text-blue-500"}),f(" èº«ä½“æ¡£æ¡ˆ ")],-1)),e("button",{onClick:E,class:"text-xs text-blue-500 font-bold bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-full"},"ä¿®æ”¹")]),e("div",Qe,[e("div",null,[e("div",Ze,a(r.value.height),1),t[21]||(t[21]=e("div",{class:"text-xs text-slate-400"},"èº«é«˜ (cm)",-1))]),e("div",null,[e("div",et,a(r.value.weight),1),t[22]||(t[22]=e("div",{class:"text-xs text-slate-400"},"ä½“é‡ (kg)",-1))]),e("div",null,[e("div",tt,a(r.value.age),1),t[23]||(t[23]=e("div",{class:"text-xs text-slate-400"},"å¹´é¾„",-1))])])])])):(u(),d("div",we,[e("div",ke,[e("div",_e,[e("span",ye,[e("span",Se,a(s.value.raceIcon),1),f(" "+a(s.value.raceName),1)])]),e("div",Ce,[e("div",Ee,a(s.value.rankIcon),1),t[14]||(t[14]=e("div",{class:"text-xs text-slate-400 uppercase tracking-widest mb-1"},"Combat Rank",-1)),e("div",{class:x(["text-2xl font-black flex items-center justify-center gap-2 mb-2",s.value.rankColor])},[f(a(s.value.rankTitle)+" ",1),e("span",Ae,"("+a(s.value.combatPower)+")",1)],2),e("div",je,[t[12]||(t[12]=e("span",{class:"text-yellow-500 font-bold mr-1"},"âœ¦ é˜¶ä½ç‰¹æƒ:",-1)),e("span",Ie,a(h.value.passive),1)]),h.value.next?(u(),d("div",Te,[e("div",Me,[t[13]||(t[13]=e("span",null,"è·ç¦»ä¸‹ä¸€é˜¶ä½",-1)),e("span",null,a(s.value.combatPower)+" / "+a(h.value.next),1)]),e("div",Be,[e("div",{class:"h-full bg-yellow-600 transition-all duration-500",style:w({width:F.value+"%"})},null,4)])])):b("",!0)]),e("div",{class:"mt-3"},[e("button",{onClick:E,class:"text-xs text-slate-500 underline hover:text-purple-400"},"ä¿®æ”¹æ¡£æ¡ˆæ•°æ®")])]),e("div",Pe,[e("div",De,[t[18]||(t[18]=e("h3",{class:"text-sm font-bold text-slate-400 mb-5 flex items-center"},[e("i",{class:"fas fa-chart-bar mr-2 text-purple-500"}),f(" æ ¸å¿ƒå±æ€§")],-1)),e("div",Ve,[e("div",Fe,[t[15]||(t[15]=e("span",{class:"text-xs text-blue-400 w-16"},"åŠ›é‡ (STR)",-1)),e("div",Ne,[e("div",{class:x(["h-full bg-blue-500",{"stat-bar-overflow":s.value.rawStr>s.value.maxStat}]),style:w({width:Math.min(s.value.str/s.value.maxStat*100,100)+"%"})},null,6)]),e("span",{class:x(["text-xs font-bold w-12 text-right",{"text-red-500":s.value.rawStr>s.value.maxStat}])},a(s.value.str),3)]),e("div",ze,[t[16]||(t[16]=e("span",{class:"text-xs text-green-400 w-16"},"æ•æ· (AGI)",-1)),e("div",Le,[e("div",{class:x(["h-full bg-green-500",{"stat-bar-overflow":s.value.rawAgi>s.value.maxStat}]),style:w({width:Math.min(s.value.agi/s.value.maxStat*100,100)+"%"})},null,6)]),e("span",{class:x(["text-xs font-bold w-12 text-right",{"text-red-500":s.value.rawAgi>s.value.maxStat}])},a(s.value.agi),3)]),e("div",qe,[t[17]||(t[17]=e("span",{class:"text-xs text-orange-400 w-16"},"ä½“è´¨ (VIT)",-1)),e("div",Oe,[e("div",{class:x(["h-full bg-orange-500",{"stat-bar-overflow":s.value.rawVit>s.value.maxStat}]),style:w({width:Math.min(s.value.vit/s.value.maxStat*100,100)+"%"})},null,6)]),e("span",{class:x(["text-xs font-bold w-12 text-right",{"text-red-500":s.value.rawVit>s.value.maxStat}])},a(s.value.vit),3)])])])]),e("div",Re,[e("div",Ue,[t[19]||(t[19]=Q('<div class="absolute inset-0 bg-[url(&#39;https://www.transparenttextures.com/patterns/dark-leather.png&#39;)] opacity-20 pointer-events-none" data-v-52cd564c></div><div class="flex justify-between items-center mb-4 relative z-10" data-v-52cd564c><h3 class="text-sm font-bold text-slate-300 flex items-center" data-v-52cd564c><i class="fas fa-shield-alt mr-2 text-yellow-600" data-v-52cd564c></i> è‹±é›„è£…å¤‡</h3><span class="text-[10px] text-slate-500 font-normal" data-v-52cd564c>ç‚¹å‡»æ§½ä½æ›´æ¢</span></div>',2)),e("div",Ge,[(u(!0),d(Z,null,ee(V.value,l=>(u(),d("div",{key:l.slotId,onClick:ct=>R(l.slotId),class:x(["aspect-square bg-slate-800 rounded-lg flex flex-col items-center justify-center border-2 transition-all relative overflow-hidden group cursor-pointer hover:border-purple-500 active:scale-95",[l.item?"border-"+l.item.rarity+" shadow-md":"border-slate-700 border-dashed opacity-60"]])},[l.item?b("",!0):(u(),d("i",{key:0,class:x([l.defaultIcon,"text-3xl text-slate-600"])},null,2)),l.item?b("",!0):(u(),d("span",$e,a(l.slotName),1)),l.item?(u(),d("div",Je)):b("",!0),l.item?(u(),d("span",We,a(l.item.icon),1)):b("",!0),l.item?(u(),d("div",Ye,[e("span",{class:x(["text-[8px] font-bold block truncate px-1","text-"+l.item.rarity])},a(l.item.reward),3)])):b("",!0)],10,He))),128))])])])])),e("div",st,[e("div",at,[e("h3",lt,[t[24]||(t[24]=e("i",{class:"fas fa-save mr-2"},null,-1)),f(" "+a(n.value?"æ•°æ®ç®¡ç†":"è®°å¿†æ°´æ™¶ (å­˜æ¡£ç®¡ç†)"),1)]),e("div",rt,[e("button",{onClick:U,class:"flex-1 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-200 text-xs py-2 rounded-lg transition border border-slate-200 dark:border-slate-600 active:scale-95 shadow-sm"},[t[25]||(t[25]=e("i",{class:"fas fa-file-download mr-1"},null,-1)),f(" "+a(n.value?"å¯¼å‡ºå¤‡ä»½":"ä¸‹è½½å·è½´ (JSON)"),1)]),e("button",{onClick:G,class:"flex-1 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-200 text-xs py-2 rounded-lg transition border border-slate-200 dark:border-slate-600 active:scale-95 shadow-sm"},[t[26]||(t[26]=e("i",{class:"fas fa-file-upload mr-1"},null,-1)),f(" "+a(n.value?"å¯¼å…¥å¤‡ä»½":"è¯»å–å·è½´"),1)]),e("input",{type:"file",ref_key:"fileInput",ref:k,accept:".json",class:"hidden",onChange:H},null,544)]),n.value?b("",!0):(u(),d("p",ot,"å­˜æ¡£å·²å¯ç”¨ RPG åè®®ï¼Œè¯·å¦¥å–„ä¿ç®¡æ‚¨çš„å·è½´ã€‚"))])]),I(g,{show:_.value,"onUpdate:show":t[4]||(t[4]=l=>_.value=l),title:"ä¿®æ”¹æ¡£æ¡ˆ","show-cancel-button":"","before-close":O,onConfirm:q,class:"dark:bg-slate-800 dark:text-white"},{default:M(()=>[e("div",nt,[e("div",null,[t[27]||(t[27]=e("label",{class:"text-xs text-slate-500 block mb-1"},"èº«é«˜ (cm)",-1)),y(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=l=>c.height=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm text-slate-800 dark:text-white"},null,512),[[S,c.height,void 0,{number:!0}]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-xs text-slate-500 block mb-1"},"ä½“é‡ (kg)",-1)),y(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>c.weight=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm text-slate-800 dark:text-white"},null,512),[[S,c.weight,void 0,{number:!0}]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"text-xs text-slate-500 block mb-1"},"å¹´é¾„",-1)),y(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=l=>c.age=l),class:"w-full bg-slate-100 dark:bg-slate-700 rounded px-3 py-2 text-sm text-slate-800 dark:text-white"},null,512),[[S,c.age,void 0,{number:!0}]])])])]),_:1},8,["show"])])}}}),vt=le(dt,[["__scopeId","data-v-52cd564c"]]);export{vt as default};
